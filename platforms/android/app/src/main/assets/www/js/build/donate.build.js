"use strict";(self.webpackChunkcom_foxdebug_acode=self.webpackChunkcom_foxdebug_acode||[]).push([[697],{5505:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var n=o(53124),a=o(73305),r=o(79870),s=o(94082),i=o.n(s),c=o(34325),d=o(50673),p=o(8187),l=o.n(p);function u(){const e="https://acode.foxdebug.com/res/",t=(0,a.Z)(strings.support);let o=!1;actionStack.push({id:"donate page",action:t.hide}),t.onhide=function(){actionStack.remove("donate page"),o&&c.Z.hideAd()},app.append(t),iap.setPurchaseUpdatedListener((t=>{Array.isArray(t)&&async function(){const o=[];for(let e of t)o.push(new Promise(((t,o)=>{iap.consume(e.purchaseToken,(o=>{e.consumed=o===iap.OK,e.consumeCode=o,t(e)}),(e=>{o(e)}))})));const n=(await Promise.allSettled(o)).find((e=>"rejected"===e.status));let a="";if(n)a="Something went wrong.\n",a+=`Error: ${n.reason}\n`,a+=`Code: ${n.value.resCode}`;else{const t=await i()({url:e+"6.jpeg",responseType:"blob"}).catch((e=>{c.Z.error(e)}));a=`<img src="${URL.createObjectURL(t)}" class="donate-image" />`,a+=strings["donation message"]}d.Z.alert(strings.info.toUpperCase(),a)}()}),(e=>{e!==iap.USER_CANCELED&&d.Z.alert(strings.error.toUpperCase(),e)})),app.onclick=function(e){const t=e.target;if(!(t instanceof HTMLElement))return;let o;"donate"===t.getAttribute("action")&&(o=t.getAttribute("value"),iap.purchase(o,(e=>{console.log(e)}),(e=>{e!==iap.USER_CANCELED&&d.Z.alert(strings.error.toUpperCase(),e)})))},c.Z.showTitleLoader(),async function(){let a=await new Promise(((e,t)=>{iap.getProducts(r.Z.SKULIST,(t=>{e(t)}),(e=>{t(e)}))}));a=a.sort(((e,t)=>parseFloat(e.price.replace(/[^0-9.]/g,""))-parseFloat(t.price.replace(/[^0-9.]/g,"")))),a=a.map((t=>(t.image=`${e}${"bronze"===t.productId?"1.jpeg":"2.jpeg"}`,t.donate=strings.donate.replace("{amount}",t.price),t)));const s=[],i=[];a.forEach(((e,t)=>{const o=n.Z.render('<div class="product">\n  <img src="{{image}}" alt="{{id}}">\n  <div class="product-info">\n    <p>{{description}}</p>\n    <div class="button-container primary">\n      <button action="donate" value="{{json}}">{{donate}}</button>\n    </div>\n  </div>\n</div>',e);t%2!=0?i.push(o):s.push(o)})),t.body=l().parse(n.Z.render('<div id="donate-page" class="main">\n  <div class="products">\n    <div class="col">{{{col1}}}</div>\n    <div class="col">{{{col2}}}</div>\n  </div>\n</div>',{col1:s.join(""),col2:i.join("")})),c.Z.showAd(),o=!0}().catch((e=>{actionStack.pop(),c.Z.error(e)})).finally((()=>{c.Z.removeTitleLoader()}))}}}]);