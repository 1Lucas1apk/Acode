"use strict";(self.webpackChunkcom_foxdebug_acode=self.webpackChunkcom_foxdebug_acode||[]).push([[314],{89686:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(8187),a=t.n(r),s=t(53124),o=t(34325),i=t(94735),c=t(73305),l=t(67881),d=t(27409),p=t(50673),u=t(15423),g=t(2802),h=t(65119),v=function(){const e=a()("span",{className:"icon search",attr:{action:"search"},onclick(){(0,g.Z)(r.get("#repos"))}}),n=(0,h.Z)("more_vert","toggle-menu"),r=(0,c.Z)("Repositories"),{credentials:v}=o.Z;let f=null;const m=u.Z.GitHub().getUser(),Z=cordova.file.externalDataDirectory+".github",b=(0,l.Z)(s.Z.render("<li action='reload'>\r\n  <span class='text'>{{reload}}</span>\r\n  <span class='icon refresh'></span>\r\n</li>",strings),{top:"8px",right:"8px",toggle:n,transformOrigin:"top right"});function k(e){f=e,f.map((e=>{const{language:n,size:t,updated_at:r}=e;e.size=(t/1024).toFixed(2)+"KB",e.updated_at=new Date(r).toLocaleDateString(),e.language=`file_type_${(n||"text").toLowerCase()}`}));const n=a().parse(s.Z.render('<div class="main list" id="repos">\r\n  {{#.}}\r\n  <div class="list-item" data-url="{{html_url}}" action="repo" owner="{{owner.login}}" name="{{name}}" id="{{id}}">\r\n    <span class="octicon main-icon" {{#private}}private{{/private}}></span>\r\n    <div class="container">\r\n      <div class="text">\r\n        <span>{{name}}</span>\r\n      </div>\r\n      <small class="value">\r\n        <div class="group">\r\n          <span class="octicon octicon-star"></span>\r\n          <span class="text">{{watchers}}</span>\r\n        </div>\r\n        <div class="group">\r\n          <span class="octicon octicon-repo-forked"></span>\r\n          <span class="text">{{forks}}</span>\r\n        </div>\r\n        <div class="group">\r\n          <span class="icon file {{language}}"></span>\r\n        </div>\r\n      </small>\r\n    </div>\r\n    <span class="icon open_in_browser" action="open"></span>\r\n  </div>\r\n  {{/.}}\r\n</div>',f));n.addEventListener("click",w),r.body=n,app.append(r),o.Z.showAd(),actionStack.push({id:"repos",action:r.hide}),r.onhide=function(){o.Z.hideAd(),actionStack.pop(),actionStack.remove("repos")},p.Z.loader.destroy()}function w(e){const n=e.target,a=n.getAttribute("action");switch("reload"===a&&b.hide(),a){case"repo":const e=n.getAttribute("name");!function(e,n){t.e(150).then(t.bind(t,63539)).then((t=>{(0,t.default)(e,n)}))}(n.getAttribute("owner"),e);break;case"reload":r.querySelector("#repos").remove(),p.Z.loader.create("Repositories",strings.loading+"..."),y();break;case"open":system.openInBrowser(n.parentElement.getAttribute("data-url"))}}function y(){m.listRepos().then((e=>{const n=e.data,t=v.encrypt(JSON.stringify(n));d.Z.writeFile(Z,t,!0,!1).catch((e=>{toast(strings.error),console.error(e)})),k(n)})).catch((e=>{e.response?(0,i.Z)():console.error(e)})).finally((()=>{p.Z.loader.destroy()}))}b.addEventListener("click",w),r.querySelector("header").append(e,n),e.onclick=()=>{(0,g.Z)(r.querySelector("#repos"))},p.Z.loader.create("GitHub",strings.loading+"..."),d.Z.readFile(Z).then((e=>{const n=v.decrypt(o.Z.decodeText(e.data));k(JSON.parse(n))})).catch((e=>{y()}))}}}]);